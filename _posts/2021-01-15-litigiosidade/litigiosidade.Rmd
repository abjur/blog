---
title: "Justiça e desenvolvimento: a relação entre a litigiosidade e o desenvolvimento"
description: |
  Este artigo busca investigar se existe uma relação entre a taxa de litigiosidade com o desenvolvimento. Para tanto, utilizamos uma base de dados com todos os processos que apareceram no Diário Oficial da União em cada município brasileiro e cruazamos tais informações com a base de dados do PNUD (Programa das Nações Unidas para o Desenvolvimento). A hipótese inicial era a de que quanto maior o desenvolvimento de um município, maior é a complexidade da sociedade, o que gera mais conflitos. Esses conflitos se traduzem em processos judicias, o que é expresso pela litigiosidade. Daí a relação entre desenvolvimento e litigiosidade. 
author:
  - name: João Torquato
    url: https://www.linkedin.com/in/jo%C3%A3o-marcelo-torquato-157b0a16a/  
  - name: Julio Trecenti
    url: https://www.linkedin.com/in/jtrecenti/
  - name: Katerine Witkoski
    url: https://www.linkedin.com/in/katerine-witkoski-53b19518b/
  - name: Ricardo Feliz
    url: https://www.linkedin.com/in/ricardo-feliz-okamoto-a20344171/
date: "`r Sys.Date()`"
categories:
  - Analises
  - Justiça
  - Desenvolvimento
  - Litigiosidade
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE,
  fig.align = "center"
)

options(scipen = 999)

# carrega pacotes necessários
library(tidyverse)
library(patchwork)
library(ggrepel)
```

```{r}
# 1) Importação
# a) carrega base `da_contagens` disponivel no pacote djprocPublic
da_contagens <- djprocPublic::da_contagens

# b) carrega base 'pnud_min" disponível no pacote abjData
base_pnud <- abjData::pnud_min
```

```{r}
# 2) Arrumação
base1 <- da_contagens %>%
  filter(!is.na(codigo_ibge)) %>%
  filter(ano == "2010") %>%
  group_by(codigo_ibge) %>%
  summarize(qtd_processos = sum(n))

base2 <- base_pnud %>%
  rename(codigo_ibge = muni_id) %>%
  filter(ano == "2010")

# Base principal
base_litigiosidade <-
  inner_join(base1, base2, by = "codigo_ibge") %>%
  # Criando taxa de litigiosidade
  mutate(taxa = round(((qtd_processos / pop) * 100), 3))

```

## Introdução

### Definição do problema

  O que acontece com o sistema jurídico conforme uma região se desenvolve? Faz sentido pensarmos que, quanto mais desenvolvida é uma região, mais conflitos ela terá? Maior desenvolvimento pode ser sinônimo de maior atividade econômica. E as atividades econômicas se realizam através de contratos. Desta forma, com mais contratos sendo firmados, maiores serão os conflitos decorrentes da inadimplência e do descumprimento. Incapazes de se ajustarem entre si, as partes irão irremediavelmente recorrer ao judiciário. 
  
  Além disso, lugares mais desenvolvidos tendem a ter populações maiores. Com grandes populações mecanismos afetivos de resolução de controvérsias começam a se tornar improváveis de acontecer. Por exemplo, em pequenos municípios onde todos conhecem a todos, um conflito entre duas pessoas poderá ser resolvido pelo afeto, por mecanismos pessoais e consensuais. Conforme o município cresce, esse tipo de resolução de conflito se enfraquece, pois ele depende inteiramente no fato de as duas partes se conhecerem e se sentirem constrangidas de litigar uma contra a outra. Então esta seria outra razão para esperar que em regiões mais desenvolvidas, a taxa de litigância seja maior. 
	
  A nossa hipótese é que quanto maior o desenvolvimento, mais complexa fica a sociedade, mais intensas se tornam as atividades econômicas, o que leva mais contratos a serem celebrados, o que, por sua vez, gera eventualmente maior litigância. Portanto, a nossa hipótese inicial é a de que existe uma relação positiva entre desenvolvimento e litigiosidade


## Metodologia
  Para testar essa hipótese, utilizaremos duas bases de dados, uma sobre dados relacionados à justiça e à quantidade de processos em cada município brasileiro, e outra sobre o desenvolvimento de cada município. 
  
  Do lado da justiça, levantamos a quantidade de processos em cada município brasileiro. Para isso, utilizamos uma base com todos os processos citados nos Diários de Justiça Eletrônicos em determinado período. Ela foi obtida através da leitura automatizada de diários de justiça eletrônicos (DJE) de todo o Brasil. Coletamos todos os processos citados nos DJEs disponibilizados entre outubro de 2020 e janeiro de 2021. Os números de processo extraídos foram identificados através de uma expressão regular baseada no processo único (Res 65. do CNJ). Uma vez obtida, a base de processos foi cruzada com a nossa base [forosCNJ](https://github.com/abjur/forosCNJ) para obter as comarcas em que os processos foram distribuídos. Originalmente, cada observação dessa base de dados correspondia a um único processo. Mas alteramos a base para contar a quantidade de processos por município. 
  
  Do lado do desenvolvimento de cada município, utilizamos a base de dados do PNUD, do censo de 2010. Essa base nos traz a informação da população e do IDH de cada município brasileiro. Consideramos o IDH, e não o PIB, para medir o desenvolvimento porque o PIB indica apenas o crescimento econômico, mas não consegue indicar a qualidade desse crescimento. É possível o crescimento no PIB sem que haja uma melhora nas condições de vida da população atingida. Já o IDH, ele é composto por três parâmetros: o IDH Educação, IDH Longevidade e IDH Renda. Ao mensurar a educação de determinada região, ao lado da saúde e da renda é que observamos o desenvolvimento. 
  
  Além do IDH, essa base de dados nos traz informações a respeito do índice de Gini de cada município. O índice de Gini é uma métrica utilizada para mensurar desigualdade. Ele vai de 0 a 1. Quanto maior for o valor dessa taxa, mais desigual é a região em questão. 
	
  Uma vez que obtivemos as duas bases, juntamos suas informações em uma base única, ficando com as informações sobre a quantidade de processos por município (base 1), com as informações a respeito do desenvolvimento, isto é, o valor global do IDH por município, o valor dos três índices do IDH (educação, longevidade e renda) e o índice de Gini. 

### Origem das bases de dados

### Descrição das bases

### Alterações nas bases

## Resultados

### Municípios e taxa de litigiosidade

Para elaboração do estudo foi extraída a razão entre nº de quantindade de processo por população, criando a taxa de litigiosidade.  O indicador permite uma análise diagnóstica sobre o potencial crescimento dos litígios de determinada região. 

A tabela \@ref(tab:municipios) mostra os 10 municípios (comarcas) com maiores taxas de ligiosidade. A maior taxa de litigiosidade é 2.255, da comarca de  Aruanã, município do interior do estado de Goiás. 

```{r municipios,  eval = TRUE, echo = FALSE}
base_litigiosidade %>%
  dplyr::select(muni_nm, taxa) %>%
  dplyr::top_n(10, taxa) %>%
  dplyr::arrange(desc(taxa)) %>%
  dplyr::rename("Taxa de litigiosidade" = taxa, "Município" = muni_nm) %>%
  knitr::kable(caption = "10 municípios (comarcas) com maiores taxas de litigiosidade")
```

A tabela \@ref(tab:regiao) mostra as comarcas com maiores taxas de litigiosidade por região. Dentre as regiões do Brasil, foi contatado que entre o Centro-Oeste e o Nordeste temos uma diferença de 33,74% sobre a taxa de litigiosidade dos municípios que se destacam. 

```{r regiao, eval = TRUE, echo = FALSE}
base_litigiosidade %>%
  dplyr::arrange(dplyr::desc(taxa)) %>%
  dplyr::distinct(regiao_nm, .keep_all = TRUE) %>%
  dplyr::select(regiao_nm, muni_nm, taxa) %>%
  dplyr::rename(
    "Taxa de litigiosidade" = taxa,
    "Município" = muni_nm,
    "Região" = regiao_nm
  ) %>%
  knitr::kable(caption = "5 municípios (comarcas) com maiores taxas de litigiosidade (Por região)")
```

### Taxa de litigiosidade por IDHM.

O Gráfico  a seguir mostra a litigiosidade por idhm geral, relacionando que maiores indices de desenvolvimento causam um crescimento na taxa de litigiosidade. 
É relevante notar que em análise do crescimento não é linear, podendo concluir que a evolução da litigação não é só relacionado ao IDH mas também uma questão de disponibilidade de recursos do Sistema de Justiça e o desempenho dos tribunais. 

```{r fig.cap = "Litigiosidade por IDHM", layout="l-body-outset", eval = TRUE, echo = FALSE, warning = FALSE}
# Padrão de cor para o gráfico
green_abj <- viridis::viridis(2, 1, .2, .8)[2]

base_litigiosidade %>%
  dplyr::select(idhm, taxa) %>%
  dplyr::filter(taxa > 0) %>%
  ggplot2::ggplot(aes(x = idhm,  y = taxa)) +
  ggplot2::scale_y_log10() +
  ggplot2::geom_point(color = "#102C68", size = 1)  +
  geom_smooth(
    method = "loess",
    formula = y ~ x,
    span = 0.3,
    colour = green_abj
  ) +
  labs(x = "IDHM",
       y = "Taxa de litigiosidade")

```
O Gráfico a seguir mostra os pontos das maiores taxas de litigiosidade por estado do Brasil. Destacando-se as regiões Centro-Oeste e Sul. 

```{r fig.cap = "Litigiosidade por IDHM por estado", layout="l-body-outset", eval = TRUE, echo = FALSE, warning = FALSE}
# cria nova base com somente as maiores taxas 
filtrada <- base_litigiosidade %>%
  dplyr::arrange(dplyr::desc(taxa)) %>%
  dplyr::distinct(regiao_nm, .keep_all = TRUE)

base_litigiosidade %>%
  dplyr::select(idhm, taxa, regiao_nm) %>%
  dplyr::filter(taxa > 0) %>%
  ggplot2::ggplot(aes(x = idhm,  y = taxa, colour = regiao_nm)) +
  ggplot2::scale_y_log10() +
  ggplot2::geom_point(size = 1)  +
  ggplot2::scale_colour_viridis_d(
    begin = .2,
    end = .8,
    option = "A",
    name = "Região"
  ) +
  geom_label_repel(data = filtrada, aes(label = regiao_nm)) +
  ggplot2::geom_smooth(
    colour = green_abj,
    se = FALSE,
    method = 'lm',
    formula = y ~ x
  ) +
  labs(x = "IDHM",
       y = "Taxa de litigiosidade")

```

A tabela \@ref(tab:media) abaixo mostra as médias obtidas do indicador de educação por região. Considerando que a média do IHDM de educação do Sul e Sudeste é 0.6335915 e 0.6437175, respectivamente. Sendo as mais altas entre as regiões do país. 


```{r media,  eval = TRUE, echo = FALSE}
# maiores médias idhm_e 
base_litigiosidade %>%
  dplyr::arrange(dplyr::desc(idhm_e)) %>%
  dplyr::group_by(regiao_nm) %>% 
  dplyr::mutate(media = mean(idhm_e)) %>% 
  dplyr::distinct(regiao_nm, .keep_all = TRUE) %>%
  dplyr::select(regiao_nm, media) %>% 
  dplyr::rename(
    "Média IDHM educação" = media,
    "Região" = regiao_nm
  ) %>%
  knitr::kable(caption = "Médias do IDHM educação pelas regiões")
```

Ainda com relação ao IDHM educação, a figura abaixo mostra a taxa de litigiosidade pelo indicador de Educação entre as regiões do Brasil. As regiões que se destacam é Sul e Sudeste, constatando um crescimento na taxa de ligiosidade. É possivel notar que as altas relacionadas à educação influenciam na procura do judiciário para a resolução dos litigios.  

```{r fig.cap = "Litigiosidade por IDHM educação", layout="l-body-outset", eval = TRUE, echo = FALSE, warning = FALSE}
# cria a média da taxa
media_taxa <- mean(base_litigiosidade$taxa)

base_litigiosidade %>%
  dplyr::select(idhm_e, taxa, regiao_nm) %>%
  dplyr::mutate(taxa_log = log(taxa)) %>% # Taxa em log
  ggplot2::ggplot(aes(x = idhm_e,  y = taxa_log)) +
  ggplot2::geom_hline(
    yintercept = media_taxa,
    size = .5,
    colour = "red",
    linetype = 2
  ) +
  ggplot2::geom_point(color = "#102C68", size = .5)  +
  labs(x = "IDHM Educação",
       y = "Taxa de litigiosidade") +
  ggplot2::geom_smooth(
    colour = green_abj,
    se = FALSE,
    method = 'loess',
    formula = y ~ x
  ) +
  ggplot2::facet_wrap(~ regiao_nm) +
  ggplot2::theme_bw(12)
```

A figura mostra a taxa de litigiosidade por Gini (concentração de renda em determinado grupo). É observado que quanto menor o indice de Gini, menor é a litigância, revelando que a desigualdade de renda afeta na capacidade processual de cada região. 

```{r litigiosidade-gini, fig.cap = "Litigiosidade por gini", layout="l-body-outset", eval = TRUE, echo = FALSE, warning = FALSE}
base_litigiosidade %>%
  dplyr::select(taxa, gini, regiao_nm) %>%
  dplyr::filter(taxa > 0) %>%
  ggplot2::ggplot(aes(x = gini, y = taxa, colour = regiao_nm)) +
  ggplot2::geom_point() +
  ggplot2::scale_y_log10() +
  ggplot2::geom_smooth(aes(colour = NULL), se = FALSE, colour = green_abj) +
  ggplot2::scale_colour_viridis_d(begin = .2,
                                  end = .8,
                                  option = "A",
                                  name = "Região") +
  labs(x = "Taxa de litigiosidade",
       y = "Gini") +
  ggplot2::theme_minimal(12)
```

## Conclusão
